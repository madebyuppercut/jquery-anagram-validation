(function(e){e.fn.anagramValidation=function(t){function g(t,r){function g(e,t){var n=new RegExp(Object.keys(t).join("|"),"gi");return e.replace(n,function(e){return t[e.toLowerCase()]})}function y(t,n,r,i,c,h){var p=N[l][r]||N[l]["text"],d=new RegExp(p.pattern),v={};v[s]=true;v[o]=true;v[u]=true;v[a]=true;v[f]=true;if(n||t){if(n&&!t){v[s]=false}if(n&&typeof t==="number"&&parseInt(t,10)===0){v[s]=false}if(t){v[o]=d.test(t)}if(i){v[a]=t.length>=i}if(c){v[u]=t.length<=c}if(h){v[f]=t===e('[name*="'+h+'"]').val()}}return v}function b(t,n){if(n.length>0){var r=e("<small>").attr({"class":N[c],"data-field":t.attr("name")}),i=e("<ul>");for(var s=0;s<n.length;s++){if(n[s].length>0){i.append(e("<li>").html(n[s]))}}r.append(i);t.after(r)}}function w(){if(e("."+N[h],t).length>0){e('[type="submit"]',t).addClass(N[p])}else{e('[type="submit"]',t).removeClass(N[p])}}function E(n){var r=e(n.target),i=null,s=null,u=[],a=null,f=null,c=null;t.trigger(d,[r]);switch(r[0].nodeName.toLowerCase()){case"input":switch(r.attr("type").toLowerCase()){case"radio":case"checkbox":i=r.closest("form").find('input[name="'+r.attr("name")+'"]:checked').val();break;default:i=r.val();break}break;case"select":i=r.val();break;case"textarea":i=r.val();break;default:break}if(r.is("[data-numeric]")){i=parseInt(i,10)}s=r.data("match")||r.attr("type");a=r.is("[required]");max=r.data("maxlength")||r.attr("maxlength");min=r.data("minlength")||r.attr("maxlength");c=r.data("repeat");validity=y(i,a,s,parseInt(min,10),parseInt(max,10),c);for(var p in validity){if(!validity[p]){var m=p+"-message",w="";if(p===o){var E=N[l][s]||N[l]["text"],w=r.data(m)||E.message}else{w=r.data(m)||N[m]}w=g(w,{"!name!":r.attr("name"),"!min!":min,"!max!":max});u.push(w)}}e('[data-field="'+r.attr("name")+'"]').detach();if(u.length>0){r.addClass(N[h]);if(!r.is("[data-silent]")){b(r,u)}}else{r.removeClass(N[h])}t.trigger(v,[r,validity])}function S(r){t.trigger(m);e(n,t).each(function(){e(this).trigger(VALIDATE_FIELD_EVENT)});w();t.trigger(VALIDATE_ALL_COMPLETE_EVENT)}function x(n){if(e('[type="submit"]',n.target).hasClass(N[p])){n.preventDefault();return false}else{t.trigger(VALIDATE_ALL_EVENT);if(e("."+N[h],n.target).length===0){return true}else{n.preventDefault();return false}}}function T(n,r){for(var i in r){var s=e('[name*="'+i+'"]',n.target);if(s.length>0){b(s,r[i]);s.addClass(N[h])}}w();t.trigger(ERRORS_LOAD_COMPLETE_EVENT)}this.loadErrors=function(e){t.trigger(ERRORS_LOAD_EVENT,[e])};var N=e.extend(true,i,r);t.on("submit",x);t.on(ERRORS_LOAD_EVENT,T);t.on("change keyup",n,E);t.on(VALIDATE_FIELD_EVENT,n,E);t.on("change",S);t.on(VALIDATE_ALL_EVENT,S);if(typeof N.errors!="undefined"){t.trigger(ERRORS_LOAD_EVENT,[N.errors])}return this}var n="input, select, textarea",r={email:{pattern:"^(([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+$",message:"Email is not valid"},emailList:{pattern:"^(([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+(([,.;]\\s*){1}(([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+)*$",message:"Email list is not valid"},text:{pattern:"^[\\w\\W\\s\\d\\D]*$",message:"Invalid text"},phone:{pattern:"^(\\d{3}|\\(\\d{3}\\))[-\\.\\s]?\\d{3}[-\\.\\s]?\\d{4}(\\s?(x|ext|ext\\.){1}\\s?\\d+)?$",message:"Phone number is not valid"},evenNumber:{pattern:"^d*[02468]{1}$",message:"Even number only"},oddNumber:{pattern:"^d*[13579]{1}$",message:"Odd number only"}},i={"error-field-class":"has-error","error-class":"error-message",patterns:r,"required-message":"!name! is a required field","minlength-message":"!name! is under !min! characters","maxlength-message":"!name! exceeds !max! characters","repeat-message":"Your must confirm your !name!","inactive-class":"inactive"},s="required",o="match",u="maxlength",a="minlength",f="repeat",l="patterns",c="error-class",h="error-field-class",p="inactive-class",d="validate.before",v="validate.complete",m="validate.all.before";VALIDATE_ALL_COMPLETE_EVENT="validate.all.complete";ERRORS_LOAD_COMPLETE_EVENT="errors.load.complete",VALIDATE_ALL_EVENT="validate.all",VALIDATE_FIELD_EVENT="validate.field",ERRORS_LOAD_EVENT="errors.load";return this.each(function(){if(!e(this).data("anagram-validation-object")){e(this).data("anagram-validation-object",new g(e(this),t))}})}})(jQuery)